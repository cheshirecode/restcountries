import { r as react } from './common/index-04edb6a1.js';
import './common/_commonjsHelpers-8c19dec8.js';

/**
 * History API docs @see https://developer.mozilla.org/en-US/docs/Web/API/History
 */
const eventPopstate = "popstate";
const eventPushState = "pushState";
const eventReplaceState = "replaceState";
const events = [eventPopstate, eventPushState, eventReplaceState];

var locationHook = ({ base = "" } = {}) => {
  const [pathAndSearch, update] = react.useState(() => ({
    path: currentPathname(base),
    search: location.search,
  })); // @see https://reactjs.org/docs/hooks-reference.html#lazy-initial-state
  const prevHash = react.useRef(pathAndSearch.path + pathAndSearch.search);

  react.useEffect(() => {
    // this function checks if the location has been changed since the
    // last render and updates the state only when needed.
    // unfortunately, we can't rely on `path` value here, since it can be stale,
    // that's why we store the last pathname in a ref.
    const checkForUpdates = () => {
      const pathname = currentPathname(base);
      const search = location.search;
      const hash = pathname + search;

      if (prevHash.current !== hash) {
        prevHash.current = hash;
        update({ path: pathname, search: search });
      }
    };

    events.map((e) => addEventListener(e, checkForUpdates));

    // it's possible that an update has occurred between render and the effect handler,
    // so we run additional check on mount to catch these updates. Based on:
    // https://gist.github.com/bvaughn/e25397f70e8c65b0ae0d7c90b731b189
    checkForUpdates();

    return () => events.map((e) => removeEventListener(e, checkForUpdates));
  }, [base]);

  // the 2nd argument of the `useLocation` return value is a function
  // that allows to perform a navigation.
  //
  // the function reference should stay the same between re-renders, so that
  // it can be passed down as an element prop without any performance concerns.
  const navigate = react.useCallback(
    (to, { replace = false } = {}) =>
      history[replace ? eventReplaceState : eventPushState](
        null,
        "",
        // handle nested routers and absolute paths
        to[0] === "~" ? to.slice(1) : base + to
      ),
    [base]
  );

  return [pathAndSearch.path, navigate];
};

// While History API does have `popstate` event, the only
// proper way to listen to changes via `push/replaceState`
// is to monkey-patch these methods.
//
// See https://stackoverflow.com/a/4585031
if (typeof history !== "undefined") {
  for (const type of [eventPushState, eventReplaceState]) {
    const original = history[type];

    history[type] = function () {
      const result = original.apply(this, arguments);
      const event = new Event(type);
      event.arguments = arguments;

      dispatchEvent(event);
      return result;
    };
  }
}

const currentPathname = (base, path = location.pathname) =>
  !path.toLowerCase().indexOf(base.toLowerCase())
    ? path.slice(base.length) || "/"
    : "~" + path;

// creates a matcher function
function makeMatcher(makeRegexpFn = pathToRegexp) {
  let cache = {};

  // obtains a cached regexp version of the pattern
  const getRegexp = (pattern) =>
    cache[pattern] || (cache[pattern] = makeRegexpFn(pattern));

  return (pattern, path) => {
    const { regexp, keys } = getRegexp(pattern || "");
    const out = regexp.exec(path);

    if (!out) return [false, null];

    // formats an object with matched params
    const params = keys.reduce((params, key, i) => {
      params[key.name] = out[i + 1];
      return params;
    }, {});

    return [true, params];
  };
}

// escapes a regexp string (borrowed from path-to-regexp sources)
// https://github.com/pillarjs/path-to-regexp/blob/v3.0.0/index.js#L202
const escapeRx = (str) => str.replace(/([.+*?=^!:${}()[\]|/\\])/g, "\\$1");

// returns a segment representation in RegExp based on flags
// adapted and simplified version from path-to-regexp sources
const rxForSegment = (repeat, optional, prefix) => {
  let capture = repeat ? "((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)" : "([^\\/]+?)";
  if (optional && prefix) capture = "(?:\\/" + capture + ")";
  return capture + (optional ? "?" : "");
};

const pathToRegexp = (pattern) => {
  const groupRx = /:([A-Za-z0-9_]+)([?+*]?)/g;

  let match = null,
    lastIndex = 0,
    keys = [],
    result = "";

  while ((match = groupRx.exec(pattern)) !== null) {
    const [_, segment, mod] = match;

    // :foo  [1]      (  )
    // :foo? [0 - 1]  ( o)
    // :foo+ [1 - ∞]  (r )
    // :foo* [0 - ∞]  (ro)
    const repeat = mod === "+" || mod === "*";
    const optional = mod === "?" || mod === "*";
    const prefix = optional && pattern[match.index - 1] === "/" ? 1 : 0;

    const prev = pattern.substring(lastIndex, match.index - prefix);

    keys.push({ name: segment });
    lastIndex = groupRx.lastIndex;

    result += escapeRx(prev) + rxForSegment(repeat, optional, prefix);
  }

  result += escapeRx(pattern.substring(lastIndex));
  return { keys, regexp: new RegExp("^" + result + "(?:\\/)?$", "i") };
};

/*
 * Part 1, Hooks API: useRouter, useRoute and useLocation
 */

// one of the coolest features of `createContext`:
// when no value is provided — default object is used.
// allows us to use the router context as a global ref to store
// the implicitly created router (see `useRouter` below)
const RouterCtx = react.createContext({});

const buildRouter = ({
  hook = locationHook,
  base = "",
  matcher = makeMatcher(),
} = {}) => ({ hook, base, matcher });

const useRouter = () => {
  const globalRef = react.useContext(RouterCtx);

  // either obtain the router from the outer context (provided by the
  // `<Router /> component) or create an implicit one on demand.
  return globalRef.v || (globalRef.v = buildRouter());
};

const useLocation = () => {
  const router = useRouter();
  return router.hook(router);
};

const useRoute = (pattern) => {
  const [path] = useLocation();
  return useRouter().matcher(pattern, path);
};

// internal hook used by Link and Redirect in order to perform navigation
const useNavigate = (options) => {
  const navRef = react.useRef();
  const [, navigate] = useLocation();

  navRef.current = () => navigate(options.to || options.href, options);
  return navRef;
};

const Route = ({ path, match, component, children }) => {
  const useRouteMatch = useRoute(path);

  // `props.match` is present - Route is controlled by the Switch
  const [matches, params] = match || useRouteMatch;

  if (!matches) return null;

  // React-Router style `component` prop
  if (component) return react.createElement(component, { params });

  // support render prop or plain children
  return typeof children === "function" ? children(params) : children;
};

const Link = (props) => {
  const navRef = useNavigate(props);
  const { base } = useRouter();

  let { to, href = to, children, onClick } = props;

  const handleClick = react.useCallback(
    (event) => {
      // ignores the navigation when clicked using right mouse button or
      // by holding a special modifier key: ctrl, command, win, alt, shift
      if (
        event.ctrlKey ||
        event.metaKey ||
        event.altKey ||
        event.shiftKey ||
        event.button !== 0
      )
        return;

      event.preventDefault();
      navRef.current();
      onClick && onClick(event);
    },
    // navRef is a ref so it never changes
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [onClick]
  );

  // wraps children in `a` if needed
  const extraProps = {
    // handle nested routers and absolute paths
    href: href[0] === "~" ? href.slice(1) : base + href,
    onClick: handleClick,
    to: null,
  };
  const jsx = react.isValidElement(children) ? children : react.createElement("a", props);

  return react.cloneElement(jsx, extraProps);
};

const flattenChildren = (children) => {
  return Array.isArray(children)
    ? [].concat(
        ...children.map((c) =>
          c.type === react.Fragment
            ? flattenChildren(c.props.children)
            : flattenChildren(c)
        )
      )
    : [children];
};

const Switch = ({ children, location }) => {
  const { matcher } = useRouter();
  const [originalLocation] = useLocation();

  for (const element of flattenChildren(children)) {
    let match = 0;

    if (
      react.isValidElement(element) &&
      // we don't require an element to be of type Route,
      // but we do require it to contain a truthy `path` prop.
      // this allows to use different components that wrap Route
      // inside of a switch, for example <AnimatedRoute />.
      (match = element.props.path
        ? matcher(element.props.path, location || originalLocation)
        : [true, {}])[0]
    )
      return react.cloneElement(element, { match });
  }

  return null;
};

export { Link, Route, Switch };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid291dGVyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvd291dGVyL3VzZS1sb2NhdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy93b3V0ZXIvbWF0Y2hlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy93b3V0ZXIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCIuL3JlYWN0LWRlcHMuanNcIjtcblxuLyoqXG4gKiBIaXN0b3J5IEFQSSBkb2NzIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hpc3RvcnlcbiAqL1xuY29uc3QgZXZlbnRQb3BzdGF0ZSA9IFwicG9wc3RhdGVcIjtcbmNvbnN0IGV2ZW50UHVzaFN0YXRlID0gXCJwdXNoU3RhdGVcIjtcbmNvbnN0IGV2ZW50UmVwbGFjZVN0YXRlID0gXCJyZXBsYWNlU3RhdGVcIjtcbmV4cG9ydCBjb25zdCBldmVudHMgPSBbZXZlbnRQb3BzdGF0ZSwgZXZlbnRQdXNoU3RhdGUsIGV2ZW50UmVwbGFjZVN0YXRlXTtcblxuZXhwb3J0IGRlZmF1bHQgKHsgYmFzZSA9IFwiXCIgfSA9IHt9KSA9PiB7XG4gIGNvbnN0IFtwYXRoQW5kU2VhcmNoLCB1cGRhdGVdID0gdXNlU3RhdGUoKCkgPT4gKHtcbiAgICBwYXRoOiBjdXJyZW50UGF0aG5hbWUoYmFzZSksXG4gICAgc2VhcmNoOiBsb2NhdGlvbi5zZWFyY2gsXG4gIH0pKTsgLy8gQHNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvaG9va3MtcmVmZXJlbmNlLmh0bWwjbGF6eS1pbml0aWFsLXN0YXRlXG4gIGNvbnN0IHByZXZIYXNoID0gdXNlUmVmKHBhdGhBbmRTZWFyY2gucGF0aCArIHBhdGhBbmRTZWFyY2guc2VhcmNoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIHRoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZSBsb2NhdGlvbiBoYXMgYmVlbiBjaGFuZ2VkIHNpbmNlIHRoZVxuICAgIC8vIGxhc3QgcmVuZGVyIGFuZCB1cGRhdGVzIHRoZSBzdGF0ZSBvbmx5IHdoZW4gbmVlZGVkLlxuICAgIC8vIHVuZm9ydHVuYXRlbHksIHdlIGNhbid0IHJlbHkgb24gYHBhdGhgIHZhbHVlIGhlcmUsIHNpbmNlIGl0IGNhbiBiZSBzdGFsZSxcbiAgICAvLyB0aGF0J3Mgd2h5IHdlIHN0b3JlIHRoZSBsYXN0IHBhdGhuYW1lIGluIGEgcmVmLlxuICAgIGNvbnN0IGNoZWNrRm9yVXBkYXRlcyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHBhdGhuYW1lID0gY3VycmVudFBhdGhuYW1lKGJhc2UpO1xuICAgICAgY29uc3Qgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgICAgY29uc3QgaGFzaCA9IHBhdGhuYW1lICsgc2VhcmNoO1xuXG4gICAgICBpZiAocHJldkhhc2guY3VycmVudCAhPT0gaGFzaCkge1xuICAgICAgICBwcmV2SGFzaC5jdXJyZW50ID0gaGFzaDtcbiAgICAgICAgdXBkYXRlKHsgcGF0aDogcGF0aG5hbWUsIHNlYXJjaDogc2VhcmNoIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBldmVudHMubWFwKChlKSA9PiBhZGRFdmVudExpc3RlbmVyKGUsIGNoZWNrRm9yVXBkYXRlcykpO1xuXG4gICAgLy8gaXQncyBwb3NzaWJsZSB0aGF0IGFuIHVwZGF0ZSBoYXMgb2NjdXJyZWQgYmV0d2VlbiByZW5kZXIgYW5kIHRoZSBlZmZlY3QgaGFuZGxlcixcbiAgICAvLyBzbyB3ZSBydW4gYWRkaXRpb25hbCBjaGVjayBvbiBtb3VudCB0byBjYXRjaCB0aGVzZSB1cGRhdGVzLiBCYXNlZCBvbjpcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9idmF1Z2huL2UyNTM5N2Y3MGU4YzY1YjBhZTBkN2M5MGI3MzFiMTg5XG4gICAgY2hlY2tGb3JVcGRhdGVzKCk7XG5cbiAgICByZXR1cm4gKCkgPT4gZXZlbnRzLm1hcCgoZSkgPT4gcmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBjaGVja0ZvclVwZGF0ZXMpKTtcbiAgfSwgW2Jhc2VdKTtcblxuICAvLyB0aGUgMm5kIGFyZ3VtZW50IG9mIHRoZSBgdXNlTG9jYXRpb25gIHJldHVybiB2YWx1ZSBpcyBhIGZ1bmN0aW9uXG4gIC8vIHRoYXQgYWxsb3dzIHRvIHBlcmZvcm0gYSBuYXZpZ2F0aW9uLlxuICAvL1xuICAvLyB0aGUgZnVuY3Rpb24gcmVmZXJlbmNlIHNob3VsZCBzdGF5IHRoZSBzYW1lIGJldHdlZW4gcmUtcmVuZGVycywgc28gdGhhdFxuICAvLyBpdCBjYW4gYmUgcGFzc2VkIGRvd24gYXMgYW4gZWxlbWVudCBwcm9wIHdpdGhvdXQgYW55IHBlcmZvcm1hbmNlIGNvbmNlcm5zLlxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZUNhbGxiYWNrKFxuICAgICh0bywgeyByZXBsYWNlID0gZmFsc2UgfSA9IHt9KSA9PlxuICAgICAgaGlzdG9yeVtyZXBsYWNlID8gZXZlbnRSZXBsYWNlU3RhdGUgOiBldmVudFB1c2hTdGF0ZV0oXG4gICAgICAgIG51bGwsXG4gICAgICAgIFwiXCIsXG4gICAgICAgIC8vIGhhbmRsZSBuZXN0ZWQgcm91dGVycyBhbmQgYWJzb2x1dGUgcGF0aHNcbiAgICAgICAgdG9bMF0gPT09IFwiflwiID8gdG8uc2xpY2UoMSkgOiBiYXNlICsgdG9cbiAgICAgICksXG4gICAgW2Jhc2VdXG4gICk7XG5cbiAgcmV0dXJuIFtwYXRoQW5kU2VhcmNoLnBhdGgsIG5hdmlnYXRlXTtcbn07XG5cbi8vIFdoaWxlIEhpc3RvcnkgQVBJIGRvZXMgaGF2ZSBgcG9wc3RhdGVgIGV2ZW50LCB0aGUgb25seVxuLy8gcHJvcGVyIHdheSB0byBsaXN0ZW4gdG8gY2hhbmdlcyB2aWEgYHB1c2gvcmVwbGFjZVN0YXRlYFxuLy8gaXMgdG8gbW9ua2V5LXBhdGNoIHRoZXNlIG1ldGhvZHMuXG4vL1xuLy8gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NTg1MDMxXG5pZiAodHlwZW9mIGhpc3RvcnkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgZm9yIChjb25zdCB0eXBlIG9mIFtldmVudFB1c2hTdGF0ZSwgZXZlbnRSZXBsYWNlU3RhdGVdKSB7XG4gICAgY29uc3Qgb3JpZ2luYWwgPSBoaXN0b3J5W3R5cGVdO1xuXG4gICAgaGlzdG9yeVt0eXBlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBjb25zdCBldmVudCA9IG5ldyBFdmVudCh0eXBlKTtcbiAgICAgIGV2ZW50LmFyZ3VtZW50cyA9IGFyZ3VtZW50cztcblxuICAgICAgZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH1cbn1cblxuY29uc3QgY3VycmVudFBhdGhuYW1lID0gKGJhc2UsIHBhdGggPSBsb2NhdGlvbi5wYXRobmFtZSkgPT5cbiAgIXBhdGgudG9Mb3dlckNhc2UoKS5pbmRleE9mKGJhc2UudG9Mb3dlckNhc2UoKSlcbiAgICA/IHBhdGguc2xpY2UoYmFzZS5sZW5ndGgpIHx8IFwiL1wiXG4gICAgOiBcIn5cIiArIHBhdGg7XG4iLCIvLyBjcmVhdGVzIGEgbWF0Y2hlciBmdW5jdGlvblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZU1hdGNoZXIobWFrZVJlZ2V4cEZuID0gcGF0aFRvUmVnZXhwKSB7XG4gIGxldCBjYWNoZSA9IHt9O1xuXG4gIC8vIG9idGFpbnMgYSBjYWNoZWQgcmVnZXhwIHZlcnNpb24gb2YgdGhlIHBhdHRlcm5cbiAgY29uc3QgZ2V0UmVnZXhwID0gKHBhdHRlcm4pID0+XG4gICAgY2FjaGVbcGF0dGVybl0gfHwgKGNhY2hlW3BhdHRlcm5dID0gbWFrZVJlZ2V4cEZuKHBhdHRlcm4pKTtcblxuICByZXR1cm4gKHBhdHRlcm4sIHBhdGgpID0+IHtcbiAgICBjb25zdCB7IHJlZ2V4cCwga2V5cyB9ID0gZ2V0UmVnZXhwKHBhdHRlcm4gfHwgXCJcIik7XG4gICAgY29uc3Qgb3V0ID0gcmVnZXhwLmV4ZWMocGF0aCk7XG5cbiAgICBpZiAoIW91dCkgcmV0dXJuIFtmYWxzZSwgbnVsbF07XG5cbiAgICAvLyBmb3JtYXRzIGFuIG9iamVjdCB3aXRoIG1hdGNoZWQgcGFyYW1zXG4gICAgY29uc3QgcGFyYW1zID0ga2V5cy5yZWR1Y2UoKHBhcmFtcywga2V5LCBpKSA9PiB7XG4gICAgICBwYXJhbXNba2V5Lm5hbWVdID0gb3V0W2kgKyAxXTtcbiAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfSwge30pO1xuXG4gICAgcmV0dXJuIFt0cnVlLCBwYXJhbXNdO1xuICB9O1xufVxuXG4vLyBlc2NhcGVzIGEgcmVnZXhwIHN0cmluZyAoYm9ycm93ZWQgZnJvbSBwYXRoLXRvLXJlZ2V4cCBzb3VyY2VzKVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpbGxhcmpzL3BhdGgtdG8tcmVnZXhwL2Jsb2IvdjMuMC4wL2luZGV4LmpzI0wyMDJcbmNvbnN0IGVzY2FwZVJ4ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoLyhbLisqPz1eIToke30oKVtcXF18L1xcXFxdKS9nLCBcIlxcXFwkMVwiKTtcblxuLy8gcmV0dXJucyBhIHNlZ21lbnQgcmVwcmVzZW50YXRpb24gaW4gUmVnRXhwIGJhc2VkIG9uIGZsYWdzXG4vLyBhZGFwdGVkIGFuZCBzaW1wbGlmaWVkIHZlcnNpb24gZnJvbSBwYXRoLXRvLXJlZ2V4cCBzb3VyY2VzXG5jb25zdCByeEZvclNlZ21lbnQgPSAocmVwZWF0LCBvcHRpb25hbCwgcHJlZml4KSA9PiB7XG4gIGxldCBjYXB0dXJlID0gcmVwZWF0ID8gXCIoKD86W15cXFxcL10rPykoPzpcXFxcLyg/OlteXFxcXC9dKz8pKSopXCIgOiBcIihbXlxcXFwvXSs/KVwiO1xuICBpZiAob3B0aW9uYWwgJiYgcHJlZml4KSBjYXB0dXJlID0gXCIoPzpcXFxcL1wiICsgY2FwdHVyZSArIFwiKVwiO1xuICByZXR1cm4gY2FwdHVyZSArIChvcHRpb25hbCA/IFwiP1wiIDogXCJcIik7XG59O1xuXG5jb25zdCBwYXRoVG9SZWdleHAgPSAocGF0dGVybikgPT4ge1xuICBjb25zdCBncm91cFJ4ID0gLzooW0EtWmEtejAtOV9dKykoWz8rKl0/KS9nO1xuXG4gIGxldCBtYXRjaCA9IG51bGwsXG4gICAgbGFzdEluZGV4ID0gMCxcbiAgICBrZXlzID0gW10sXG4gICAgcmVzdWx0ID0gXCJcIjtcblxuICB3aGlsZSAoKG1hdGNoID0gZ3JvdXBSeC5leGVjKHBhdHRlcm4pKSAhPT0gbnVsbCkge1xuICAgIGNvbnN0IFtfLCBzZWdtZW50LCBtb2RdID0gbWF0Y2g7XG5cbiAgICAvLyA6Zm9vICBbMV0gICAgICAoICApXG4gICAgLy8gOmZvbz8gWzAgLSAxXSAgKCBvKVxuICAgIC8vIDpmb28rIFsxIC0g4oieXSAgKHIgKVxuICAgIC8vIDpmb28qIFswIC0g4oieXSAgKHJvKVxuICAgIGNvbnN0IHJlcGVhdCA9IG1vZCA9PT0gXCIrXCIgfHwgbW9kID09PSBcIipcIjtcbiAgICBjb25zdCBvcHRpb25hbCA9IG1vZCA9PT0gXCI/XCIgfHwgbW9kID09PSBcIipcIjtcbiAgICBjb25zdCBwcmVmaXggPSBvcHRpb25hbCAmJiBwYXR0ZXJuW21hdGNoLmluZGV4IC0gMV0gPT09IFwiL1wiID8gMSA6IDA7XG5cbiAgICBjb25zdCBwcmV2ID0gcGF0dGVybi5zdWJzdHJpbmcobGFzdEluZGV4LCBtYXRjaC5pbmRleCAtIHByZWZpeCk7XG5cbiAgICBrZXlzLnB1c2goeyBuYW1lOiBzZWdtZW50IH0pO1xuICAgIGxhc3RJbmRleCA9IGdyb3VwUngubGFzdEluZGV4O1xuXG4gICAgcmVzdWx0ICs9IGVzY2FwZVJ4KHByZXYpICsgcnhGb3JTZWdtZW50KHJlcGVhdCwgb3B0aW9uYWwsIHByZWZpeCk7XG4gIH1cblxuICByZXN1bHQgKz0gZXNjYXBlUngocGF0dGVybi5zdWJzdHJpbmcobGFzdEluZGV4KSk7XG4gIHJldHVybiB7IGtleXMsIHJlZ2V4cDogbmV3IFJlZ0V4cChcIl5cIiArIHJlc3VsdCArIFwiKD86XFxcXC8pPyRcIiwgXCJpXCIpIH07XG59O1xuIiwiaW1wb3J0IGxvY2F0aW9uSG9vayBmcm9tIFwiLi91c2UtbG9jYXRpb24uanNcIjtcbmltcG9ydCBtYWtlTWF0Y2hlciBmcm9tIFwiLi9tYXRjaGVyLmpzXCI7XG5cbmltcG9ydCB7XG4gIHVzZVJlZixcbiAgdXNlTGF5b3V0RWZmZWN0LFxuICB1c2VDb250ZXh0LFxuICB1c2VDYWxsYmFjayxcbiAgY3JlYXRlQ29udGV4dCxcbiAgaXNWYWxpZEVsZW1lbnQsXG4gIGNsb25lRWxlbWVudCxcbiAgY3JlYXRlRWxlbWVudCBhcyBoLFxuICBGcmFnbWVudCxcbn0gZnJvbSBcIi4vcmVhY3QtZGVwcy5qc1wiO1xuXG4vKlxuICogUGFydCAxLCBIb29rcyBBUEk6IHVzZVJvdXRlciwgdXNlUm91dGUgYW5kIHVzZUxvY2F0aW9uXG4gKi9cblxuLy8gb25lIG9mIHRoZSBjb29sZXN0IGZlYXR1cmVzIG9mIGBjcmVhdGVDb250ZXh0YDpcbi8vIHdoZW4gbm8gdmFsdWUgaXMgcHJvdmlkZWQg4oCUIGRlZmF1bHQgb2JqZWN0IGlzIHVzZWQuXG4vLyBhbGxvd3MgdXMgdG8gdXNlIHRoZSByb3V0ZXIgY29udGV4dCBhcyBhIGdsb2JhbCByZWYgdG8gc3RvcmVcbi8vIHRoZSBpbXBsaWNpdGx5IGNyZWF0ZWQgcm91dGVyIChzZWUgYHVzZVJvdXRlcmAgYmVsb3cpXG5jb25zdCBSb3V0ZXJDdHggPSBjcmVhdGVDb250ZXh0KHt9KTtcblxuY29uc3QgYnVpbGRSb3V0ZXIgPSAoe1xuICBob29rID0gbG9jYXRpb25Ib29rLFxuICBiYXNlID0gXCJcIixcbiAgbWF0Y2hlciA9IG1ha2VNYXRjaGVyKCksXG59ID0ge30pID0+ICh7IGhvb2ssIGJhc2UsIG1hdGNoZXIgfSk7XG5cbmV4cG9ydCBjb25zdCB1c2VSb3V0ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGdsb2JhbFJlZiA9IHVzZUNvbnRleHQoUm91dGVyQ3R4KTtcblxuICAvLyBlaXRoZXIgb2J0YWluIHRoZSByb3V0ZXIgZnJvbSB0aGUgb3V0ZXIgY29udGV4dCAocHJvdmlkZWQgYnkgdGhlXG4gIC8vIGA8Um91dGVyIC8+IGNvbXBvbmVudCkgb3IgY3JlYXRlIGFuIGltcGxpY2l0IG9uZSBvbiBkZW1hbmQuXG4gIHJldHVybiBnbG9iYWxSZWYudiB8fCAoZ2xvYmFsUmVmLnYgPSBidWlsZFJvdXRlcigpKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VMb2NhdGlvbiA9ICgpID0+IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIHJldHVybiByb3V0ZXIuaG9vayhyb3V0ZXIpO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZVJvdXRlID0gKHBhdHRlcm4pID0+IHtcbiAgY29uc3QgW3BhdGhdID0gdXNlTG9jYXRpb24oKTtcbiAgcmV0dXJuIHVzZVJvdXRlcigpLm1hdGNoZXIocGF0dGVybiwgcGF0aCk7XG59O1xuXG4vLyBpbnRlcm5hbCBob29rIHVzZWQgYnkgTGluayBhbmQgUmVkaXJlY3QgaW4gb3JkZXIgdG8gcGVyZm9ybSBuYXZpZ2F0aW9uXG5jb25zdCB1c2VOYXZpZ2F0ZSA9IChvcHRpb25zKSA9PiB7XG4gIGNvbnN0IG5hdlJlZiA9IHVzZVJlZigpO1xuICBjb25zdCBbLCBuYXZpZ2F0ZV0gPSB1c2VMb2NhdGlvbigpO1xuXG4gIG5hdlJlZi5jdXJyZW50ID0gKCkgPT4gbmF2aWdhdGUob3B0aW9ucy50byB8fCBvcHRpb25zLmhyZWYsIG9wdGlvbnMpO1xuICByZXR1cm4gbmF2UmVmO1xufTtcblxuLypcbiAqIFBhcnQgMiwgTG93IENhcmIgUm91dGVyIEFQSTogUm91dGVyLCBSb3V0ZSwgTGluaywgU3dpdGNoXG4gKi9cblxuZXhwb3J0IGNvbnN0IFJvdXRlciA9IChwcm9wcykgPT4ge1xuICBjb25zdCByZWYgPSB1c2VSZWYoKTtcblxuICAvLyB0aGlzIGxpdHRsZSB0cmljayBhbGxvd3MgdG8gYXZvaWQgaGF2aW5nIHVubmVjZXNzYXJ5XG4gIC8vIGNhbGxzIHRvIHBvdGVudGlhbGx5IGV4cGVuc2l2ZSBgYnVpbGRSb3V0ZXJgIG1ldGhvZC5cbiAgLy8gaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2hvb2tzLWZhcS5odG1sI2hvdy10by1jcmVhdGUtZXhwZW5zaXZlLW9iamVjdHMtbGF6aWx5XG4gIGNvbnN0IHZhbHVlID0gcmVmLmN1cnJlbnQgfHwgKHJlZi5jdXJyZW50ID0geyB2OiBidWlsZFJvdXRlcihwcm9wcykgfSk7XG5cbiAgcmV0dXJuIGgoUm91dGVyQ3R4LlByb3ZpZGVyLCB7XG4gICAgdmFsdWUsXG4gICAgY2hpbGRyZW46IHByb3BzLmNoaWxkcmVuLFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBSb3V0ZSA9ICh7IHBhdGgsIG1hdGNoLCBjb21wb25lbnQsIGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgdXNlUm91dGVNYXRjaCA9IHVzZVJvdXRlKHBhdGgpO1xuXG4gIC8vIGBwcm9wcy5tYXRjaGAgaXMgcHJlc2VudCAtIFJvdXRlIGlzIGNvbnRyb2xsZWQgYnkgdGhlIFN3aXRjaFxuICBjb25zdCBbbWF0Y2hlcywgcGFyYW1zXSA9IG1hdGNoIHx8IHVzZVJvdXRlTWF0Y2g7XG5cbiAgaWYgKCFtYXRjaGVzKSByZXR1cm4gbnVsbDtcblxuICAvLyBSZWFjdC1Sb3V0ZXIgc3R5bGUgYGNvbXBvbmVudGAgcHJvcFxuICBpZiAoY29tcG9uZW50KSByZXR1cm4gaChjb21wb25lbnQsIHsgcGFyYW1zIH0pO1xuXG4gIC8vIHN1cHBvcnQgcmVuZGVyIHByb3Agb3IgcGxhaW4gY2hpbGRyZW5cbiAgcmV0dXJuIHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiID8gY2hpbGRyZW4ocGFyYW1zKSA6IGNoaWxkcmVuO1xufTtcblxuZXhwb3J0IGNvbnN0IExpbmsgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgbmF2UmVmID0gdXNlTmF2aWdhdGUocHJvcHMpO1xuICBjb25zdCB7IGJhc2UgfSA9IHVzZVJvdXRlcigpO1xuXG4gIGxldCB7IHRvLCBocmVmID0gdG8sIGNoaWxkcmVuLCBvbkNsaWNrIH0gPSBwcm9wcztcblxuICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgLy8gaWdub3JlcyB0aGUgbmF2aWdhdGlvbiB3aGVuIGNsaWNrZWQgdXNpbmcgcmlnaHQgbW91c2UgYnV0dG9uIG9yXG4gICAgICAvLyBieSBob2xkaW5nIGEgc3BlY2lhbCBtb2RpZmllciBrZXk6IGN0cmwsIGNvbW1hbmQsIHdpbiwgYWx0LCBzaGlmdFxuICAgICAgaWYgKFxuICAgICAgICBldmVudC5jdHJsS2V5IHx8XG4gICAgICAgIGV2ZW50Lm1ldGFLZXkgfHxcbiAgICAgICAgZXZlbnQuYWx0S2V5IHx8XG4gICAgICAgIGV2ZW50LnNoaWZ0S2V5IHx8XG4gICAgICAgIGV2ZW50LmJ1dHRvbiAhPT0gMFxuICAgICAgKVxuICAgICAgICByZXR1cm47XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBuYXZSZWYuY3VycmVudCgpO1xuICAgICAgb25DbGljayAmJiBvbkNsaWNrKGV2ZW50KTtcbiAgICB9LFxuICAgIC8vIG5hdlJlZiBpcyBhIHJlZiBzbyBpdCBuZXZlciBjaGFuZ2VzXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIFtvbkNsaWNrXVxuICApO1xuXG4gIC8vIHdyYXBzIGNoaWxkcmVuIGluIGBhYCBpZiBuZWVkZWRcbiAgY29uc3QgZXh0cmFQcm9wcyA9IHtcbiAgICAvLyBoYW5kbGUgbmVzdGVkIHJvdXRlcnMgYW5kIGFic29sdXRlIHBhdGhzXG4gICAgaHJlZjogaHJlZlswXSA9PT0gXCJ+XCIgPyBocmVmLnNsaWNlKDEpIDogYmFzZSArIGhyZWYsXG4gICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgdG86IG51bGwsXG4gIH07XG4gIGNvbnN0IGpzeCA9IGlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogaChcImFcIiwgcHJvcHMpO1xuXG4gIHJldHVybiBjbG9uZUVsZW1lbnQoanN4LCBleHRyYVByb3BzKTtcbn07XG5cbmNvbnN0IGZsYXR0ZW5DaGlsZHJlbiA9IChjaGlsZHJlbikgPT4ge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShjaGlsZHJlbilcbiAgICA/IFtdLmNvbmNhdChcbiAgICAgICAgLi4uY2hpbGRyZW4ubWFwKChjKSA9PlxuICAgICAgICAgIGMudHlwZSA9PT0gRnJhZ21lbnRcbiAgICAgICAgICAgID8gZmxhdHRlbkNoaWxkcmVuKGMucHJvcHMuY2hpbGRyZW4pXG4gICAgICAgICAgICA6IGZsYXR0ZW5DaGlsZHJlbihjKVxuICAgICAgICApXG4gICAgICApXG4gICAgOiBbY2hpbGRyZW5dO1xufTtcblxuZXhwb3J0IGNvbnN0IFN3aXRjaCA9ICh7IGNoaWxkcmVuLCBsb2NhdGlvbiB9KSA9PiB7XG4gIGNvbnN0IHsgbWF0Y2hlciB9ID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFtvcmlnaW5hbExvY2F0aW9uXSA9IHVzZUxvY2F0aW9uKCk7XG5cbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGZsYXR0ZW5DaGlsZHJlbihjaGlsZHJlbikpIHtcbiAgICBsZXQgbWF0Y2ggPSAwO1xuXG4gICAgaWYgKFxuICAgICAgaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkgJiZcbiAgICAgIC8vIHdlIGRvbid0IHJlcXVpcmUgYW4gZWxlbWVudCB0byBiZSBvZiB0eXBlIFJvdXRlLFxuICAgICAgLy8gYnV0IHdlIGRvIHJlcXVpcmUgaXQgdG8gY29udGFpbiBhIHRydXRoeSBgcGF0aGAgcHJvcC5cbiAgICAgIC8vIHRoaXMgYWxsb3dzIHRvIHVzZSBkaWZmZXJlbnQgY29tcG9uZW50cyB0aGF0IHdyYXAgUm91dGVcbiAgICAgIC8vIGluc2lkZSBvZiBhIHN3aXRjaCwgZm9yIGV4YW1wbGUgPEFuaW1hdGVkUm91dGUgLz4uXG4gICAgICAobWF0Y2ggPSBlbGVtZW50LnByb3BzLnBhdGhcbiAgICAgICAgPyBtYXRjaGVyKGVsZW1lbnQucHJvcHMucGF0aCwgbG9jYXRpb24gfHwgb3JpZ2luYWxMb2NhdGlvbilcbiAgICAgICAgOiBbdHJ1ZSwge31dKVswXVxuICAgIClcbiAgICAgIHJldHVybiBjbG9uZUVsZW1lbnQoZWxlbWVudCwgeyBtYXRjaCB9KTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IFJlZGlyZWN0ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IG5hdlJlZiA9IHVzZU5hdmlnYXRlKHByb3BzKTtcblxuICAvLyBlbXB0eSBhcnJheSBtZWFucyBydW5uaW5nIHRoZSBlZmZlY3Qgb25jZSwgbmF2UmVmIGlzIGEgcmVmIHNvIGl0IG5ldmVyIGNoYW5nZXNcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBuYXZSZWYuY3VycmVudCgpO1xuICB9LCBbXSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB1c2VSb3V0ZTtcbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJoIiwiaXNWYWxpZEVsZW1lbnQiLCJjbG9uZUVsZW1lbnQiLCJGcmFnbWVudCJdLCJtYXBwaW5ncyI6Ijs7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTSxhQUFhLEdBQUcsVUFBVSxDQUFDO0FBQ2pDLE1BQU0sY0FBYyxHQUFHLFdBQVcsQ0FBQztBQUNuQyxNQUFNLGlCQUFpQixHQUFHLGNBQWMsQ0FBQztBQUNsQyxNQUFNLE1BQU0sR0FBRyxDQUFDLGFBQWEsRUFBRSxjQUFjLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztBQUN6RTtBQUNBLG1CQUFlLENBQUMsRUFBRSxJ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
